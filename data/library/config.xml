<module type="library">
    <title>Bibundina</title>
    <subtitle>A Writer's Library App</subtitle>
    <imgUrl>
        <serverPath>$library-images/</serverPath>
        <pathToList type="element">module</pathToList>
        <pathToItem type="element">page</pathToItem>
    </imgUrl>
    <sorting>
        <!-- Author -->
        <sortBy id="Author" browseCategory="Alphabet">
            <label>Author</label>
            <rangeQuery>
                <fields>("library-book-Author")</fields>
                <operators>("starts-with")</operators>
                <keys>$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Author</orderBy>
            <breadcrumbPhrase>author</breadcrumbPhrase>
        </sortBy>
        <!-- Title -->
        <sortBy id="Title" browseCategory="Alphabet">
            <label>Title</label>
            <rangeQuery>
                <fields>("library-book-Title")</fields>
                <operators>("starts-with")</operators>
                <keys>$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Title</orderBy>
            <breadcrumbPhrase>title</breadcrumbPhrase>
        </sortBy>
        <!-- Place -->
        <sortBy id="Place" browseCategory="Alphabet">
            <label>Place</label>
            <rangeQuery>
                <fields>("library-book-Place")</fields>
                <operators>("starts-with")</operators>
                <keys>$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Place</orderBy>
            <breadcrumbPhrase>place of publication</breadcrumbPhrase>
        </sortBy>
        <!-- Date -->
        <sortBy id="Date" browseCategory="DateRange">
            <label>Date</label>
            <rangeQuery>
                <fields>("library-book-Date")</fields>
                <operators>("starts-with")</operators>
                <keys>$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Date</orderBy>
            <breadcrumbPhrase>date of publication</breadcrumbPhrase>
        </sortBy>
        <!-- Inscription -->
        <sortBy id="Dedication" browseCategory="Alphabet">
            <label>Inscription</label>
            <rangeQuery>
                <fields>("library-book-Dedication","library-book-Author")</fields>
                <operators>("contains","starts-with")</operators>
                <keys>"*",$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Author</orderBy>
            <breadcrumbPhrase>the presence of an inscription</breadcrumbPhrase>
        </sortBy>
        <!-- All Reading Traces -->
        <sortBy id="readingTraces" browseCategory="Alphabet">
            <label>All Reading Traces</label>
            <rangeQuery>
                <fields>("library-book-readingTraces","library-book-Author")</fields>
                <operators>("contains","starts-with")</operators>
                <keys>"*",$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Author</orderBy>
            <breadcrumbPhrase>the presence of reading traces</breadcrumbPhrase>
        </sortBy>
        <!-- Marginalia only -->
        <sortBy id="Marginalia" browseCategory="Alphabet">
            <label>Marginalia only</label>
            <rangeQuery>
                <fields>("library-book-Marginalia","library-book-Author")</fields>
                <operators>("contains","starts-with")</operators>
                <keys>"*",$currentBrowseValue</keys>
            </rangeQuery>
            <orderBy>Author</orderBy>
            <breadcrumbPhrase>the presence of marginalia</breadcrumbPhrase>
        </sortBy>
    </sorting>
    <browsing>
        <browseBy id="Alphabet">
            <browse>
                <value>A</value>
                <label>A</label>
            </browse>
            <browse>
                <value>B</value>
                <label>B</label>
            </browse>
            <browse>
                <value>C</value>
                <label>C</label>
            </browse>
            <browse>
                <value>D</value>
                <label>D</label>
            </browse>
            <browse>
                <value>E</value>
                <label>E</label>
            </browse>
            <browse>
                <value>F</value>
                <label>F</label>
            </browse>
            <browse>
                <value>G</value>
                <label>G</label>
            </browse>
            <browse>
                <value>H</value>
                <label>H</label>
            </browse>
            <browse>
                <value>I</value>
                <label>I</label>
            </browse>
            <browse>
                <value>J</value>
                <label>J</label>
            </browse>
            <browse>
                <value>K</value>
                <label>K</label>
            </browse>
            <browse>
                <value>L</value>
                <label>L</label>
            </browse>
            <browse>
                <value>M</value>
                <label>M</label>
            </browse>
            <browse>
                <value>N</value>
                <label>N</label>
            </browse>
            <browse>
                <value>O</value>
                <label>O</label>
            </browse>
            <browse>
                <value>P</value>
                <label>P</label>
            </browse>
            <browse>
                <value>Q</value>
                <label>Q</label>
            </browse>
            <browse>
                <value>R</value>
                <label>R</label>
            </browse>
            <browse>
                <value>S</value>
                <label>S</label>
            </browse>
            <browse>
                <value>T</value>
                <label>T</label>
            </browse>
            <browse>
                <value>U</value>
                <label>U</label>
            </browse>
            <browse>
                <value>V</value>
                <label>V</label>
            </browse>
            <browse>
                <value>W</value>
                <label>W</label>
            </browse>
            <browse>
                <value>X</value>
                <label>X</label>
            </browse>
            <browse>
                <value>Y</value>
                <label>Y</label>
            </browse>
            <browse>
                <value>Z</value>
                <label>Z</label>
            </browse>
        </browseBy>
        <browseBy id="DateRange">
            <browse>
                <value>17</value>
                <label>1700→</label>
            </browse>
            <browse>
                <value>18</value>
                <label>1800→</label>
            </browse>
            <browse>
                <value>190</value>
                <label>1900→</label>
            </browse>
            <browse>
                <value>191</value>
                <label>1910→</label>
            </browse>
            <browse>
                <value>192</value>
                <label>1920→</label>
            </browse>
            <browse>
                <value>193</value>
                <label>1930→</label>
            </browse>
            <browse>
                <value>194</value>
                <label>1940→</label>
            </browse>
            <browse>
                <value>195</value>
                <label>1950→</label>
            </browse>
            <browse>
                <value>196</value>
                <label>1960→</label>
            </browse>
            <browse>
                <value>197</value>
                <label>1970→</label>
            </browse>
            <browse>
                <value>198</value>
                <label>1980→</label>
            </browse>
            <browse>
                <value>n.d.</value>
                <label>n.d.</label>
            </browse>
        </browseBy>

    </browsing>
    <!--  index fields to be declared in collection.xconf 
        <lucene>
            <text qname="module" index="no">
                <ignore qname="Term"/>
                <ignore qname="Source"/>
                <ignore qname="Comment"/>
                <field name="library-book-biblio" if="@type='bibl' or @type='prop'"/>
                <field name="bookID" expression="parent::book/@id"/>
                <facet dimension="document" expression="'library-bibliography'"/>
                <facet dimension="module" expression="substring-after(util:collection-name(.),'data/')"/>
            </text>
            
            <text qname="zone">
                <ignore qname="Coordinates"/>
                <ignore qname="PlaceOnThePage"/>
                <ignore qname="Handwriting"/>
                <ignore qname="WritingTool"/>
                <field name="library-book-zone-bookID" expression="ancestor::book/@id"/>
                <field name="library-book-zone-pagenumber" expression="preceding-sibling::Pagenumber"/>
                <field name="library-book-zone-author" expression="ancestor::book/module[1]/Author[1]"/>
                <field name="library-book-zone-title" expression="ancestor::book/module[1]/Title[1]"/>
                <field name="library-book-zone-subtitle" expression="ancestor::book/module[1]/SubTitle[1]"/>
                <facet dimension="document" expression="'library-readingtraces'"/>
                <facet dimension="module" expression="substring-after(util:collection-name(.),'data/')"/>
            </text>
            
            <text qname="m">
                <field name="library-book-marginalia-bookID" expression="ancestor::book/@id"/>
                <field name="library-book-marginalia-zoneID" expression="ancestor::zone/Number"/>
                <field name="library-book-marginalia-pagenumber" expression="ancestor::page/Pagenumber"/>
                <field name="library-book-marginalia-author" expression="ancestor::book/module[1]/Author[1]"/>
                <field name="library-book-marginalia-title" expression="ancestor::book/module[1]/Title[1]"/>
                <field name="library-book-marginalia-subtitle" expression="ancestor::book/module[1]/SubTitle[1]"/>
                <facet dimension="document" expression="'library-readingtraces'"/>
                <facet dimension="module" expression="substring-after(util:collection-name(.),'data/')"/>
            </text>
            
            <text qname="ManuscriptLink" index="no">
                <field name="library-book-with-manuscript-link" expression="ancestor::book/@id"/>
                <facet dimension="module" expression="substring-after(util:collection-name(.),'data/')"/>
            </text>
        </lucene>
        <range>
            <create qname="book">
                <field name="library-book-siglum" type="xs:string" match="@id"/>
                <field name="library-book-type" type="xs:string" match="@type"/>
                <field name="library-book-Author" type="xs:string" match="module/Author/@sort"/>
                <field name="library-book-Title" type="xs:string" match="module/Title/@sort"/>
                <field name="library-book-Date" type="xs:string" match="module/Date"/>
                <field name="library-book-Place" type="xs:string" match="module/Place"/>
                <field name="library-book-Dedication" type="xs:string" match="module/Dedication"/>
                <field name="library-book-readingTraces" type="xs:string" match="module/page"/>
                <field name="library-book-Marginalia" type="xs:string" match="module//m"/>
                <field name="library-book-student-EL-VL" type="xs:string" match="@student"/>
            </create>
            
            <create qname="book">
                <condition attribute="type" value="EL"/>
                <field name="library-book-student-EL" type="xs:string" match="@student"/>
            </create>
            
        </range>
    -->
    <!-- 
       An example of a range query that combines two fields:
          <sortBy id="Author" browseCategory="Alphabet">
            <label>Author</label>
            <rangeQuery>
                <fields>("library-book-Author","library-book-type")</fields>
                <operators>("starts-with","eq")</operators>
                <keys>$currentBrowseValue, "EL"</keys>
            </rangeQuery>
            <orderBy>Author</orderBy>
            <breadcrumbPhrase>author</breadcrumbPhrase>
        </sortBy>
    -->
</module>